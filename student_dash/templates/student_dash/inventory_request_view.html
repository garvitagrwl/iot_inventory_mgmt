{% extends 'base/studentdashboard.html' %}
{% load static %}

{% block extra_css_files %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'student_dash/request_component.css' %}">
{% endblock %}

{% block page_title %}Components{% endblock %}


{% block js_filename %}
  <script src="{% static 'student_dash/js/sidebar.js' %}"></script>
  
{% endblock %}
{% block page_header %}{% endblock %}
{% block dashboard_content %}
    <main class="main-content">
        <div class="header-container">
            <h3>Components</h3>
        </div>
        <button id="toggleSidebarBtn" class="request-btn-top-right" style="position: fixed; top: 20px; right: 20px; z-index: 1001;">
            Request Components
        </button>

        <div class="card-container">
            <div class="card">
                <a href="{% url 'dash:category_items' 'Microcontroller' %}" style="text-decoration: none; color: inherit;">
                    <img src="{% static 'student_dash/images/microcontroller.jpg' %}" alt="Microcontrollers">
                    <h3>Microcontrollers</h3>
                </a>
            </div>

            <div class="card">
                <a href="{% url 'dash:category_items' 'Sensor' %}" style="text-decoration: none; color: inherit;">
                    <img src="{% static 'student_dash/images/sensors.jpg' %}" alt="Sensors">
                    <h3>Sensors</h3>
                </a>
            </div>

            <div class="card">
                <a href="{% url 'dash:category_items' 'Actuator' %}" style="text-decoration: none; color: inherit;">
                    <img src="{% static 'student_dash/images/actuators.png' %}" alt="Actuators">
                    <h3>Actuators</h3>
                </a>
            </div>

            <div class="card">
                <a href="{% url 'dash:category_items' 'Electronic' %}" style="text-decoration: none; color: inherit;">
                    <img src="{% static 'student_dash/images/el.jpg' %}" alt="Electric Components">
                    <h3>Electric Components</h3>
                </a>
            </div>

            <div class="card">
                <a href="{% url 'dash:category_items' 'Display' %}" style="text-decoration: none; color: inherit;">
                    <img src="{% static 'student_dash/images/display.webp' %}" alt="Displays">
                    <h3>Displays</h3>
                </a>
            </div>

            <div class="card">
                <a href="{% url 'dash:category_items' 'Misc' %}" style="text-decoration: none; color: inherit;">
                    <img src="{% static 'student_dash/images/misc.jpg' %}" alt="Miscellaneous">
                    <h3>Miscellaneous</h3>
                </a>
            </div>
        </div>

        <div id="requestSidebar" class="right-sidebar">
            <div class="sidebar-header">
                <h4>Selected Components</h4>
                <button id="closeSidebar">&times;</button>
            </div>
            <form id="componentRequestForm" method="POST" action="{% url 'dash:submit_request' %}">
                {% csrf_token %}
                <div id="form-hidden-fields"></div>
                <div id="selected-components-list">
                    <p>No components selected yet.</p>
                </div>
                <button type="submit" class="btn btn-primary mt-3">Confirm Request</button>
            </form>
        </div>
    </main>
{% endblock %}
